---
description: "Universal work execution methodology for all Hana-X tasks"
---

# Hana-X Universal Work Methodology

**Purpose**: Flexible, scalable methodology for executing ANY work in the Hana-X ecosystem - from simple config changes to complex multi-service deployments.

**Version**: 1.0
**Last Updated**: 2025-11-05
**Supersedes**: Previous deployment-only methodology

---

## Core Principles

1. **Universal Pattern**: Same methodology works for ALL task types
2. **Flexible Process**: Task complexity dictates detail level
3. **Multi-Agent by Default**: Most work involves coordination
4. **Quality Over Speed**: Constitution principle #1
5. **Template-Driven**: Process follows established templates
6. **Simple First**: Don't let great be the enemy of good (MVP approach)

---

## The Six Phases

```
Phase 0: Discovery       → Who? What? Which systems?
Phase 1: Specification   → What does success look like?
Phase 2: Planning        → Task breakdown, dependencies, coordination
Phase 3: Alignment       → Everyone ready? Rollback plan?
Phase 4: Execution       → Do the work, validate each step
Phase 5: Validation      → Tests pass? Docs updated?
```

**Key Principle**: Not all phases require equal effort. A simple task might spend 2 minutes on Phase 0-1 and skip detailed planning. A complex task might spend hours on Phase 2.

---

## Phase 0: Discovery

**Purpose**: Understand the work and identify stakeholders

**Questions to Answer**:
- What exactly needs to be done?
- Why are we doing this?
- Who needs to be involved?
- Which systems/services are affected?
- What's the scope (simple/medium/complex)?

**Tools**:
- **Agent Persona Reference Card**: `/srv/cc/Governance/0.0-governance/agent-persona-reference.md` - Fast lookup for "Need X? Call Agent Y"
- **Agent Catalog**: `/srv/cc/Governance/0.1-agents/agent-catalog.md` - Complete agent directory
- **Platform Nodes**: `/srv/cc/Governance/0.0-governance/0.2-hana_x_platform_nodes_final.md` - Server inventory

**Output**:
- List of affected systems/services
- List of agents who need to be involved
- Initial scope assessment

**Example**:
```
Task: "Change Docling model configuration"

Discovery:
- Systems affected: Docling Worker, Docling MCP, Ollama
- Agents involved: @agent-eric, @agent-elena, @agent-patricia, @agent-julia
- Scope: Medium (config change + model download + testing)
```

---

## Phase 1: Specification

**Purpose**: Define what success looks like

**When to Use**:
- **Simple tasks**: Quick verbal spec (1-2 sentences) ✅
- **Medium tasks**: Written spec with acceptance criteria ✅✅
- **Complex tasks**: Formal specification document ✅✅✅

**Questions to Answer**:
- What are the requirements?
- What are the acceptance criteria?
- How will we know it worked?
- What are the success metrics?
- What could go wrong?

**Template** (optional): `t-0.10-work-spec-template.md`

**Output**:
- Clear requirements
- Acceptance criteria
- Success metrics (if applicable)

**Examples**:

**Simple Task** (verbal spec):
```
"Update nginx config to add new route. Success = route works, nginx reloads without error."
```

**Medium Task** (written spec):
```
Requirements:
- Download docling-v2.5 model
- Update Docling Worker config to use new model
- Verify model loads correctly
- Downstream integrations continue working

Acceptance Criteria:
- Model file present in Ollama
- Docling Worker starts successfully
- Test document processes correctly
- LightRAG pipeline still works

Success Metrics:
- 0 errors in logs
- Processing time ≤ current model
- Test accuracy ≥ 95%
```

**Complex Task**: Use full specification template

---

## Phase 2: Collaborative Planning

**Purpose**: Multi-agent task breakdown with dependencies

**When to Use**:
- **Simple tasks**: Mental task list (no template needed) ✅
- **Medium tasks**: Written task list with agent assignments ✅✅
- **Complex tasks**: Full work plan + task list templates ✅✅✅

**Process**:

### Step 1: Initiate Planning Session

**Orchestrating agent** invites all identified agents:

```
TO: [All agents from Phase 0]
FROM: [Orchestrating agent]
SUBJECT: Planning Session - [Task Name]

Task: [Brief description]

We've identified you as stakeholders. Before executing, let's plan together:

1. What tasks are involved from your perspective?
2. What can run in parallel vs sequential?
3. What are the dependencies?
4. How do we test/verify?

Please respond with your task breakdown.
```

### Step 2: Collect Agent Input

Each agent provides:
- Tasks they're responsible for
- Dependencies (what must happen first?)
- Parallel opportunities (what can happen simultaneously?)
- Validation steps

### Step 3: Consolidate Task Plan

Orchestrating agent creates unified task list:
- Groups tasks by phase
- Marks parallel `[P]` vs sequential `[S]`
- Notes dependencies: `[Blocked by: task#]`
- Assigns agents
- Includes test plan

**Template** (for medium/complex): `t-0.11-task-list-template.md`

**Output**:
- Consolidated task list
- Dependency map
- Parallel execution opportunities
- Test plan

**Example** (Medium task - Docling model change):

```
PHASE 0: PRE-FLIGHT
□ T1: @agent-julia - Run baseline tests [S]
□ T2: Check disk space [P - can run parallel with T1]

PHASE 1: PREPARATION (Parallel execution)
□ P1: @agent-patricia - Download model [P]
□ P2: @agent-eric - Update MCP config [P]
□ P3: @agent-elena - Backup current config [P]

PHASE 2: DEPLOYMENT (Sequential - blocked by Phase 1)
□ S1: @agent-elena - Stop Worker service [S]
□ S2: @agent-elena - Start Worker with new config [S - blocked by S1]
□ S3: @agent-eric - Test MCP endpoints [S - blocked by S2]

PHASE 3: VALIDATION (Parallel tests)
□ T3: @agent-julia - Functional test [P]
□ T4: @agent-julia - Integration test [P]

ROLLBACK (if needed):
□ @agent-elena - Restore backed-up config
□ @agent-elena - Restart Worker
```

---

## Phase 3: Alignment Checkpoint

**Purpose**: Ensure all agents are ready before execution

**When to Use**:
- **Simple tasks**: Quick verbal "ready?"✅
- **Medium/Complex tasks**: Formal alignment checkpoint ✅✅

**Checkpoint Questions**:
- Do you understand your tasks?
- Do you have resources needed?
- Can you commit to timeline?
- Is rollback plan clear (if needed)?

**Output**: All agents confirm ✅ ready to proceed

**Example**:
```
TO: @agent-elena, @agent-patricia, @agent-julia
SUBJECT: Alignment Checkpoint - Ready to Execute?

See consolidated task plan above.

CONFIRM:
□ You understand your tasks
□ You have resources needed
□ You can commit to [timeline]
□ Rollback plan is clear

Reply with ✅ when ready.
```

---

## Phase 4: Coordinated Execution

**Purpose**: Execute the work with validation at each step

**Execution Principles**:
1. Follow the task plan
2. Validate each task before moving to next
3. Use phase checkpoints for multi-phase work
4. Document as you go
5. Escalate immediately if blocked (Constitution: 2-attempt rule)

**Phase Checkpoints** (for complex work):
```
[Phase 1 complete?]
- All parallel tasks done? ✅
- All deliverables ready? ✅
- Proceed to Phase 2? ✅

[Phase 2 complete?]
- Sequential tasks executed? ✅
- Validation passed? ✅
- Proceed to Phase 3? ✅
```

**Coordination Protocol**:
- Agent completes task → Signals completion
- Next agent waits for signal → Begins their task
- All agents monitor progress → Ready to help if needed

**Output**: Work completed, each step validated

---

## Phase 5: Validation & Documentation

**Purpose**: Confirm success and update documentation

**Validation Steps**:

1. **Run Test Plan** (from Phase 2)
   - Functional tests
   - Integration tests
   - Performance tests (if applicable)

2. **Verify Acceptance Criteria** (from Phase 1)
   - All requirements met? ✅
   - Success metrics achieved? ✅

3. **Check for Errors**
   - No errors in logs? ✅
   - No warnings? ✅
   - Services healthy? ✅

**Documentation Updates** (based on task type):

**Infrastructure Changes**:
- Update Platform Nodes document (server changes)
- Update Network Topology (IP/DNS changes)
- Update credentials file (new accounts)

**Service Changes**:
- Update service operations guide
- Update integration matrix (if integrations changed)
- Update agent profiles (if responsibilities changed)

**Configuration Changes**:
- Document what was changed and why
- Note in service operations guide
- Update runbooks if procedure changed

**Output**:
- All tests passed ✅
- Documentation updated ✅
- Lessons learned captured (for complex tasks)

---

## Task Sizing Guide

### Simple Tasks (< 30 minutes)
**Examples**: Change one config value, restart service, add DNS record

**Process**:
- Phase 0: 2-minute discovery
- Phase 1: Verbal spec
- Phase 2: Mental task list (no template)
- Phase 3: Quick "ready?"
- Phase 4: Execute
- Phase 5: Quick validation + minimal docs

**Total overhead**: < 5 minutes

---

### Medium Tasks (30 minutes - 4 hours)
**Examples**: Model upgrade, service configuration change, minor integration

**Process**:
- Phase 0: 5-10 minutes (identify 2-5 agents)
- Phase 1: Written spec with acceptance criteria
- Phase 2: Written task list with dependencies (use template)
- Phase 3: Alignment checkpoint with all agents
- Phase 4: Coordinated execution with checkpoints
- Phase 5: Test plan execution + documentation

**Total overhead**: 30-60 minutes (20-25% of total time)

**Template Usage**: t-0.10 (spec), t-0.11 (task list)

---

### Complex Tasks (> 4 hours)
**Examples**: New service deployment, multi-service integration, major upgrade

**Process**:
- Phase 0: 30-60 minutes (identify 5+ agents, research)
- Phase 1: Formal specification document (use template)
- Phase 2: Full work plan + detailed task list (use templates)
- Phase 3: Formal alignment meeting with all agents
- Phase 4: Phased execution with multiple checkpoints
- Phase 5: Comprehensive testing + full documentation + lessons learned

**Total overhead**: 2-4 hours (planning pays off in complex work)

**Template Usage**: t-0.9 (work plan), t-0.10 (spec), t-0.11 (task list)

---

## Common Scenarios

### Scenario 1: Deploy New Service

**Phases**:
- Phase 0: Identify @agent-william (Ubuntu), @agent-frank (Infrastructure), service agent
- Phase 1: Service requirements, endpoints, dependencies
- Phase 2: Server prep → Infrastructure → Service install → Integration
- Phase 3: All agents confirm resources + timeline
- Phase 4: Sequential deployment with validation
- Phase 5: Integration tests + full documentation

**Size**: Complex (6-12 hours)

---

### Scenario 2: Configuration Change

**Phases**:
- Phase 0: Identify affected service + dependencies (reference card)
- Phase 1: What's changing? Why? Expected outcome?
- Phase 2: Backup → Change → Restart → Test
- Phase 3: Quick alignment (< 5 minutes)
- Phase 4: Execute with validation
- Phase 5: Test + update ops guide

**Size**: Simple to Medium (30 minutes - 2 hours)

---

### Scenario 3: Troubleshooting Investigation

**Phases**:
- Phase 0: What's broken? Which systems involved?
- Phase 1: Success = root cause identified + issue resolved
- Phase 2: Diagnose (logs, health checks) → Fix → Verify
- Phase 3: N/A (troubleshooting is iterative)
- Phase 4: Execute with Constitution escalation rule (2 attempts)
- Phase 5: Document fix in runbook

**Size**: Variable (30 minutes - 8 hours)

**Special Note**: Troubleshooting may not follow linear phases - discovery and execution often interleave.

---

### Scenario 4: RAG Pipeline Setup

**Phases**:
- Phase 0: 5 agents (Diana, Elena, Patricia, Robert, Marcus)
- Phase 1: Data sources, processing requirements, performance targets
- Phase 2: Crawling → Processing → Embedding → Storage → Query setup
- Phase 3: All agents align on data flow + interfaces
- Phase 4: Sequential setup (each component feeds next)
- Phase 5: End-to-end integration test + documentation

**Size**: Complex (8-16 hours)

---

## Templates Reference

| Template | File | When to Use | Task Size |
|----------|------|-------------|-----------|
| Work Plan | t-0.9 | Multi-phase complex work | Complex |
| Specification | t-0.10 | Clear requirements needed | Medium+ |
| Task List | t-0.11 | Coordination with 2+ agents | Medium+ |
| Deployment Plan | t-0.8 | New service deployment | Complex |
| Status Report | t-0.7 | Project progress tracking | Any |

**Location**: `/srv/cc/Governance/0.0-governance/0.6-hx-templates/`

---

## Agent Coordination

### Finding the Right Agents

1. **Agent Persona Reference Card** (fastest):
   - `/srv/cc/Governance/0.0-governance/agent-persona-reference.md`
   - "Need X? Call Agent Y" tables
   - Common scenarios with agent workflows

2. **Agent Catalog** (comprehensive):
   - `/srv/cc/Governance/0.1-agents/agent-catalog.md`
   - Service ownership matrix
   - Architecture layer mapping

3. **Individual Agent Profiles** (detailed):
   - `/srv/cc/Governance/0.1-agents/agent-[name].md`
   - Specific capabilities and integration points

### Coordination Protocols

Follow Constitution Section XII-XVIII for:
- Standard agent call format
- Handoff protocols
- Communication standards
- Escalation procedures

---

## Quality Gates

Every phase should pass quality gates from Constitution:

**Before Starting (Preflight)**:
- □ Governance documentation current
- □ Task understood
- □ Prerequisites identified
- □ Dependencies mapped
- □ Rollback plan (if needed for medium/complex)

**After Completion (Post-Operation)**:
- □ Expected state achieved
- □ Functionality tested
- □ No errors or warnings
- □ Integration points validated
- □ Documentation updated
- □ Rollback procedure documented (if applicable)

**Constitution Requirement**: If any gate fails, HALT and escalate.

---

## Escalation

**Constitution Rule**: After 2 failed attempts, STOP and escalate immediately.

**Escalation Paths**:
- Infrastructure issues (LDAP/DNS/SSL) → @agent-frank
- OS/system issues → @agent-william
- Multi-agent coordination issues → @agent-george (FastMCP)
- Domain expertise → Consult Agent Catalog for specialist
- Governance/process unclear → This methodology + Constitution
- Unknown/complex → Agent Zero with full context

---

## Flexibility Guidelines

### When to Scale Up (Use More Process)
- Multiple agents (3+) involved
- Critical system (production-like)
- Risky change (hard to rollback)
- Learning opportunity (document for next time)
- Compliance requirement

### When to Scale Down (Use Less Process)
- Single agent work
- Low-risk change
- Easy rollback available
- Dev/test environment
- Time-sensitive issue

**Judgment Call**: Use appropriate level of rigor for the situation. When in doubt, err on side of more planning (Constitution: Quality Over Speed).

---

## Best Practices

1. **Start with Discovery**: Always know who's involved before starting
2. **Write it Down**: Even simple tasks benefit from written task list
3. **Coordinate Early**: Don't surprise other agents mid-execution
4. **Validate Often**: Test at every step, not just at end
5. **Document as You Go**: Don't defer documentation "until later"
6. **Use Templates**: They save time and ensure consistency
7. **Learn from Complex Work**: Capture lessons for next time
8. **Keep it Simple**: Don't add ceremony for ceremony's sake

---

## Anti-Patterns (Don't Do This)

❌ Skip discovery → Surprise agents who needed to be involved
❌ No specification → Unclear what success looks like
❌ Solo complex work → Miss dependencies and integrations
❌ Skip validation → Declare success without proof
❌ No documentation → Next person has to rediscover everything
❌ Heavy process for everything → Waste time on simple tasks
❌ No process for complex work → Chaos and rework

---

## Document Authority

This methodology is subordinate to:
1. **Hana-X Agent Constitution** (supreme authority)
2. **Agent Catalog** (who does what)

When methodology conflicts with Constitution, Constitution wins.

When process is unclear, consult:
- This document (process flow)
- Constitution (principles and quality gates)
- Templates (specific formats)
- Agent profiles (capabilities)

---

## Version History

| Version | Date | Changes | Author |
|---------|------|---------|--------|
| 1.0 | 2025-11-05 | Initial universal work methodology (replaces deployment-only approach) | Agent Zero |

---

**Document Location**: `/srv/cc/Governance/0.0-governance/0.4-hx-work-methodology.md`
**Maintained By**: Governance Team
**Status**: ACTIVE
**Compliance**: MANDATORY for all work in Hana-X ecosystem

---

*Universal, flexible, simple. Works for tasks big and small. Quality over speed. Multi-agent by default.*

**END OF METHODOLOGY**
