cat > /srv/cc/Governance/x-poc3-n8n-deployment/p1-planning/INFRASTRUCTURE-DEPLOYMENT-PLAN.md << 'EOF'
# Hana-X Infrastructure Deployment Plan
**Server**: hx-cc-server (192.168.10.244)  
**Domain**: hx.dev.local  
**Version**: 2.0  
**Date**: 2025-11-10

---

## Architecture Overview

### Two-Tier Design

**Tier 1: Shared Server Infrastructure** (Install Once)
- Location: `/srv/cc/hana-x-infrastructure/`
- Scope: All projects on hx-cc-server
- Components: Roger, Defect Logger, Quality Gates, Validators

**Tier 2: Project-Specific Configuration** (Per Project)
- Location: Each project directory (e.g., `/srv/cc/Governance/x-poc3-*/`)
- Scope: Individual project
- Components: CodeRabbit config, project defects, local settings

### Benefits
‚úÖ Install Roger, quality gates, etc. **once**  
‚úÖ New projects start in **minutes, not days**  
‚úÖ Consistent quality standards across **all projects**  
‚úÖ Updates to Roger benefit **all projects immediately**  
‚úÖ Centralized defect tracking **across projects**  

---

## Phase 0: Server Infrastructure Setup
**Duration**: 1 day (one-time setup)  
**Scope**: Server-wide  
**Location**: `/srv/cc/hana-x-infrastructure/`

### 0.1 Create Infrastructure Directory
````bash
# Create shared infrastructure location
sudo mkdir -p /srv/cc/hana-x-infrastructure/{.claude/{agents/roger,defects,quality-gates,validators},templates,bin,docs}
sudo chown -R agent0:agent0 /srv/cc/hana-x-infrastructure
cd /srv/cc/hana-x-infrastructure

# Initialize git for infrastructure
git init
git config user.name "Agent Zero"
git config user.email "agent0@hx.dev.local"
````

### 0.2 Install Global Dependencies
````bash
# Python packages (system-wide or venv)
sudo pip install --break-system-packages \
    PyYAML \
    pydantic \
    fastapi \
    pytest \
    pytest-cov \
    black \
    pylint \
    mypy \
    bandit \
    rich  # For better terminal output

# Node.js global packages
sudo npm install -g \
    @playwright/test \
    eslint \
    prettier \
    typescript
````

### 0.3 Install CodeRabbit CLI (Global)
````bash
# Install CodeRabbit for all users
curl -fsSL https://cli.coderabbit.ai/install.sh | sudo sh

# Verify installation
coderabbit --version

# Add to global PATH
echo 'export PATH="/usr/local/bin:$PATH"' | sudo tee -a /etc/profile.d/coderabbit.sh
````

### 0.4 Deploy Roger Agent (Global)
````bash
# Copy Roger to infrastructure
cat > /srv/cc/hana-x-infrastructure/.claude/agents/roger/roger.py << 'ROGER'
#!/usr/bin/env python3
"""
Roger - Global CodeRabbit Management Agent
Shared across all Hana-X projects on hx-cc-server
"""

import os
import sys
import json
from pathlib import Path
from typing import Optional

# Detect project context
def get_project_root() -> Path:
    """Find the project root from current directory"""
    cwd = Path.cwd()
    
    # Look for project markers
    for parent in [cwd] + list(cwd.parents):
        if (parent / '.git').exists() or (parent / '.coderabbit').exists():
            return parent
    
    return cwd

class RogerGlobal:
    """Global Roger instance that works across projects"""
    
    def __init__(self, project_root: Optional[Path] = None):
        self.project_root = project_root or get_project_root()
        self.project_name = self.project_root.name
        self.infrastructure_root = Path('/srv/cc/hana-x-infrastructure')
        
        # Project-specific defect log
        self.defect_log = self.project_root / 'DEFECT-LOG.md'
        
        # Shared defect database
        self.shared_defects = self.infrastructure_root / '.claude/defects/logs/all-defects.json'
        
        print(f"üê∞ Roger initialized for project: {self.project_name}")
        print(f"   Project root: {self.project_root}")
        print(f"   Defect log: {self.defect_log}")
    
    def review(self, auto_fix: bool = False, background: bool = False):
        """Run CodeRabbit review for current project"""
        print(f"\nüê∞ Starting CodeRabbit review for {self.project_name}...")
        
        # Implementation here (simplified for now)
        import subprocess
        
        cmd = ['coderabbit', 'review', '--plain']
        result = subprocess.run(cmd, capture_output=True, text=True)
        
        print(result.stdout)
        
        if auto_fix:
            print("üê∞ Creating defects from findings...")
            # Parse and create defects
            
        return result.returncode == 0
    
    def status(self):
        """Show current project status"""
        print(f"\nüê∞ Roger Status for {self.project_name}")
        print(f"   Project: {self.project_name}")
        print(f"   Location: {self.project_root}")
        
        # Show recent defects for this project
        if self.defect_log.exists():
            with open(self.defect_log) as f:
                lines = f.readlines()
                defect_count = len([l for l in lines if l.startswith('##')])
                print(f"   Defects: {defect_count}")

def main():
    import argparse
    
    parser = argparse.ArgumentParser(description='Roger - Global CodeRabbit Agent')
    subparsers = parser.add_subparsers(dest='command')
    
    # Review command
    review_parser = subparsers.add_parser('review', help='Run CodeRabbit review')
    review_parser.add_argument('--auto-fix', action='store_true', help='Create defects automatically')
    review_parser.add_argument('--background', action='store_true', help='Run in background')
    
    # Status command
    subparsers.add_parser('status', help='Show project status')
    
    # Report command
    subparsers.add_parser('report', help='Generate report')
    
    args = parser.parse_args()
    
    roger = RogerGlobal()
    
    if args.command == 'review':
        roger.review(auto_fix=args.auto_fix, background=args.background)
    elif args.command == 'status':
        roger.status()
    elif args.command == 'report':
        print("üê∞ Report generation coming soon...")
    else:
        parser.print_help()

if __name__ == '__main__':
    main()
ROGER

chmod +x /srv/cc/hana-x-infrastructure/.claude/agents/roger/roger.py
````

### 0.5 Create Global Command Links
````bash
# Create symlinks in /usr/local/bin for global access
sudo ln -sf /srv/cc/hana-x-infrastructure/.claude/agents/roger/roger.py /usr/local/bin/roger
sudo ln -sf /srv/cc/hana-x-infrastructure/.claude/defects/defect_logger.py /usr/local/bin/defect-log
sudo ln -sf /srv/cc/hana-x-infrastructure/.claude/quality-gates/enforce.py /usr/local/bin/quality-check

# Verify global commands work
roger --help
````

### 0.6 Create New Project Bootstrap Template

**Design Note**: This bootstrap script uses nested heredocs to generate four template files inline. While this approach provides a self-contained bootstrap script, CodeRabbit correctly identifies that it becomes difficult to debug and modify as complexity grows.

**Alternative Approach Available**: See Section 0.6.1 below for a refactored design using separate template files with `envsubst` for variable substitution. The inline approach is provided first for simplicity, but production deployments should consider the refactored approach for better maintainability.

**Option A: Inline Heredoc Approach** (simpler for initial deployment)

````bash
cat > /srv/cc/hana-x-infrastructure/templates/new-project/bootstrap.sh << 'BOOTSTRAP'
#!/bin/bash
# Bootstrap a new Hana-X project with shared infrastructure

set -e

PROJECT_NAME=$1

if [ -z "$PROJECT_NAME" ]; then
    echo "Usage: $0 <project-name>"
    exit 1
fi

PROJECT_DIR="/srv/cc/Governance/$PROJECT_NAME"

echo "üöÄ Bootstrapping new Hana-X project: $PROJECT_NAME"
echo ""

# Create project directory
mkdir -p "$PROJECT_DIR"
cd "$PROJECT_DIR"

# Create minimal structure
mkdir -p {src/{backend,frontend},tests,docs,config}

# Create project configuration that links to shared infrastructure
cat > .claude/project.yaml << 'YAML'
# Project Configuration
# Links to shared Hana-X infrastructure

infrastructure:
  location: /srv/cc/hana-x-infrastructure
  roger: /usr/local/bin/roger
  defect_log: /usr/local/bin/defect-log
  quality_check: /usr/local/bin/quality-check

project:
  name: ${PROJECT_NAME}
  server: hx-cc-server
  domain: hx.dev.local
YAML

# Create CodeRabbit configuration
cat > .coderabbit/config.yaml << 'CODERABBIT'
# CodeRabbit Configuration
# Project-specific settings

extends: /srv/cc/hana-x-infrastructure/config/coderabbit-base.yaml

project:
  name: ${PROJECT_NAME}
  
reviews:
  # Project-specific overrides here
  auto_review: true
CODERABBIT

# Create DEFECT-LOG.md
cat > DEFECT-LOG.md << 'DEFECTS'
# Defect Log - ${PROJECT_NAME}

**Project**: ${PROJECT_NAME}  
**Server**: hx-cc-server  
**Created**: $(date +%Y-%m-%d)

---

## Active Defects

(None yet - Roger will populate this)

---

## Resolved Defects

(None yet)
DEFECTS

# Create README
cat > README.md << 'README'
# ${PROJECT_NAME}

**Infrastructure**: Hana-X Shared Infrastructure  
**Server**: hx-cc-server (192.168.10.244)

## Quick Start

\`\`\`bash
# Run code review
roger review --auto-fix

# Check project status
roger status

# View defects
cat DEFECT-LOG.md

# Run quality checks
quality-check
\`\`\`

## Shared Infrastructure

This project uses shared Hana-X infrastructure:
- **Roger Agent**: Global CodeRabbit orchestration
- **Quality Gates**: Hana-X standards enforcement
- **Defect Tracking**: Centralized defect management

See: \`/srv/cc/hana-x-infrastructure/docs/README.md\`
README

# Initialize git
git init
git add .
git commit -m "Initial commit - bootstrapped from Hana-X infrastructure"

echo ""
echo "‚úÖ Project $PROJECT_NAME created!"
echo ""
echo "Location: $PROJECT_DIR"
echo "Next steps:"
echo "  cd $PROJECT_DIR"
echo "  roger status"
echo ""
BOOTSTRAP

chmod +x /srv/cc/hana-x-infrastructure/templates/new-project/bootstrap.sh

# Create convenience command
sudo ln -sf /srv/cc/hana-x-infrastructure/templates/new-project/bootstrap.sh /usr/local/bin/hx-new-project
````

---

### 0.6.1 Refactored Bootstrap Template (Recommended for Production)

**Improvement**: Separate template files instead of nested heredocs for better maintainability, testability, and extensibility.

**Step 1: Create separate template files**

````bash
mkdir -p /srv/cc/hana-x-infrastructure/templates/new-project/files

# Template 1: Project configuration
cat > /srv/cc/hana-x-infrastructure/templates/new-project/files/project.yaml.template << 'EOF'
# Project Configuration
# Links to shared Hana-X infrastructure

infrastructure:
  location: /srv/cc/hana-x-infrastructure
  roger: /usr/local/bin/roger
  defect_log: /usr/local/bin/defect-log
  quality_check: /usr/local/bin/quality-check

project:
  name: ${PROJECT_NAME}
  server: hx-cc-server
  domain: hx.dev.local
EOF

# Template 2: CodeRabbit configuration
cat > /srv/cc/hana-x-infrastructure/templates/new-project/files/coderabbit-config.yaml.template << 'EOF'
# CodeRabbit Configuration
# Project-specific settings

extends: /srv/cc/hana-x-infrastructure/config/coderabbit-base.yaml

project:
  name: ${PROJECT_NAME}

reviews:
  # Project-specific overrides here
  auto_review: true
EOF

# Template 3: Defect log
cat > /srv/cc/hana-x-infrastructure/templates/new-project/files/DEFECT-LOG.md.template << 'EOF'
# Defect Log - ${PROJECT_NAME}

**Project**: ${PROJECT_NAME}
**Server**: hx-cc-server
**Created**: ${CREATION_DATE}

---

## Active Defects

(None yet - Roger will populate this)

---

## Resolved Defects

(None yet)
EOF

# Template 4: README
cat > /srv/cc/hana-x-infrastructure/templates/new-project/files/README.md.template << 'EOF'
# ${PROJECT_NAME}

**Infrastructure**: Hana-X Shared Infrastructure
**Server**: hx-cc-server (192.168.10.244)

## Quick Start

```bash
# Run code review
roger review --auto-fix

# Check project status
roger status

# View defects
cat DEFECT-LOG.md

# Run quality checks
quality-check
```

## Shared Infrastructure

This project uses shared Hana-X infrastructure:
- **Roger Agent**: Global CodeRabbit orchestration
- **Quality Gates**: Hana-X standards enforcement
- **Defect Tracking**: Centralized defect management

See: `/srv/cc/hana-x-infrastructure/docs/README.md`
EOF
````

**Step 2: Create refactored bootstrap script**

````bash
cat > /srv/cc/hana-x-infrastructure/templates/new-project/bootstrap-v2.sh << 'BOOTSTRAP'
#!/bin/bash
# Refactored bootstrap using separate template files and envsubst
# Easier to maintain, test, and extend

set -e

PROJECT_NAME=$1

if [ -z "$PROJECT_NAME" ]; then
    echo "Usage: $0 <project-name>"
    exit 1
fi

PROJECT_DIR="/srv/cc/Governance/$PROJECT_NAME"
TEMPLATE_DIR="/srv/cc/hana-x-infrastructure/templates/new-project/files"

echo "üöÄ Bootstrapping new Hana-X project: $PROJECT_NAME"
echo ""

# Verify template directory exists
if [ ! -d "$TEMPLATE_DIR" ]; then
    echo "‚ùå ERROR: Template directory not found: $TEMPLATE_DIR"
    exit 1
fi

# Create project directory structure
mkdir -p "$PROJECT_DIR"
cd "$PROJECT_DIR"
mkdir -p {.claude,.coderabbit,src/{backend,frontend},tests,docs,config}

# Export variables for envsubst
export PROJECT_NAME
export CREATION_DATE=$(date +%Y-%m-%d)

echo "üìù Generating project files from templates..."

# Process templates with envsubst
envsubst < "$TEMPLATE_DIR/project.yaml.template" > .claude/project.yaml
envsubst < "$TEMPLATE_DIR/coderabbit-config.yaml.template" > .coderabbit/config.yaml
envsubst < "$TEMPLATE_DIR/DEFECT-LOG.md.template" > DEFECT-LOG.md
envsubst < "$TEMPLATE_DIR/README.md.template" > README.md

# Initialize git
git init
git add .
git commit -m "Initial commit - bootstrapped from Hana-X infrastructure v2"

echo ""
echo "‚úÖ Project $PROJECT_NAME created!"
echo ""
echo "Location: $PROJECT_DIR"
echo "Templates used: $TEMPLATE_DIR"
echo ""
echo "Next steps:"
echo "  cd $PROJECT_DIR"
echo "  roger status"
echo ""
BOOTSTRAP

chmod +x /srv/cc/hana-x-infrastructure/templates/new-project/bootstrap-v2.sh

# Create convenience command for refactored version
sudo ln -sf /srv/cc/hana-x-infrastructure/templates/new-project/bootstrap-v2.sh /usr/local/bin/hx-new-project-v2
````

**Benefits of Refactored Approach**:
- ‚úÖ **Easier debugging**: Edit template files directly without escaping heredoc syntax
- ‚úÖ **Better version control**: Template changes are clearly visible in git diffs
- ‚úÖ **Simpler testing**: Test templates independently with sample variables
- ‚úÖ **Extensibility**: Add new template files without modifying bootstrap script
- ‚úÖ **IDE support**: Syntax highlighting works correctly in separate `.yaml`/`.md` files
- ‚úÖ **Reusability**: Templates can be used by other tools (e.g., CI/CD pipelines)

**Migration Path**:
1. Use inline approach (0.6) for quick initial deployment
2. Migrate to refactored approach (0.6.1) after validating project structure
3. Deprecate inline bootstrap after all projects use v2

**Testing Refactored Templates**:
````bash
# Test variable substitution without creating project
export PROJECT_NAME="test-project"
export CREATION_DATE=$(date +%Y-%m-%d)
envsubst < /srv/cc/hana-x-infrastructure/templates/new-project/files/README.md.template
# Verify output shows "test-project" and current date
````

---

### 0.7 Create Infrastructure Documentation
````bash
cat > /srv/cc/hana-x-infrastructure/docs/README.md << 'INFRADOCS'
# Hana-X Shared Infrastructure

**Server**: hx-cc-server (192.168.10.244)  
**Location**: `/srv/cc/hana-x-infrastructure/`

## Overview

Shared infrastructure for all Hana-X projects on this server.

### Components

- **Roger Agent** (`/usr/local/bin/roger`): CodeRabbit orchestration
- **Defect Logger** (`/usr/local/bin/defect-log`): Defect tracking
- **Quality Gates** (`/usr/local/bin/quality-check`): Standards enforcement
- **Project Bootstrap** (`/usr/local/bin/hx-new-project`): Create new projects

## Creating a New Project
```bash
# Bootstrap new project
hx-new-project my-new-project

# Navigate to project
cd /srv/cc/Governance/my-new-project

# Start working
roger review --auto-fix
```

## Using Shared Infrastructure

All global commands work from any project directory:
```bash
# From any project directory
roger review          # Roger auto-detects current project
defect-log list       # List defects for current project
quality-check         # Run quality gates on current project
```

## Updating Infrastructure
```bash
cd /srv/cc/hana-x-infrastructure
git pull
# Updates affect all projects immediately
```

## Project-Specific Configuration

Each project has minimal config:
- `.coderabbit/config.yaml` - CodeRabbit rules
- `.claude/project.yaml` - Project metadata
- `DEFECT-LOG.md` - Project defects

## Architecture
````
Global Infrastructure (shared)
    ‚Üì
Project Configuration (per-project)
    ‚Üì
Your Code
````
INFRADOCS
````

### 0.8 Test Infrastructure Setup
````bash
# Test global commands
roger --help
defect-log --help
quality-check --help
hx-new-project --help

# Test project bootstrap
hx-new-project test-project-001
cd /srv/cc/Governance/test-project-001
roger status
cd -

# Clean up test
rm -rf /srv/cc/Governance/test-project-001
````

### 0.9 Commit Infrastructure
````bash
cd /srv/cc/hana-x-infrastructure
git add .
git commit -m "Initial Hana-X shared infrastructure setup"
git tag v1.0.0
````

---

## Phase 1: Configure Current Project
**Duration**: 30 minutes  
**Scope**: x-poc3-n8n-deployment only  
**Location**: `/srv/cc/Governance/x-poc3-n8n-deployment/`

### 1.1 Link to Shared Infrastructure
````bash
cd /srv/cc/Governance/x-poc3-n8n-deployment

# Create project configuration
mkdir -p .claude
cat > .claude/project.yaml << 'YAML'
# Project Configuration
# Links to shared Hana-X infrastructure

infrastructure:
  location: /srv/cc/hana-x-infrastructure
  roger: /usr/local/bin/roger
  defect_log: /usr/local/bin/defect-log
  quality_check: /usr/local/bin/quality-check

project:
  name: x-poc3-n8n-deployment
  server: hx-cc-server
  domain: hx.dev.local
  
technologies:
  backend:
    - python
    - fastapi
    - pydantic
  frontend:
    - react
    - nextjs
    - typescript
    - tailwind
YAML
````

### 1.2 Create Project-Specific CodeRabbit Config
````bash
mkdir -p .coderabbit
cat > .coderabbit/config.yaml << 'CODERABBIT'
# CodeRabbit Configuration - x-poc3-n8n-deployment
# Extends shared Hana-X base configuration

extends: /srv/cc/hana-x-infrastructure/config/coderabbit-base.yaml

project:
  name: x-poc3-n8n-deployment
  type: deployment
  
languages:
  - python
  - typescript
  - yaml
  
frameworks:
  backend:
    - fastapi
  frontend:
    - react
    - nextjs
    - tailwind
    
reviews:
  auto_review: true
  enforce_solid: true
  require_tests: true
  min_coverage: 80
  
output:
  defect_log: ./DEFECT-LOG.md
  format: markdown
CODERABBIT
````

### 1.3 Ensure DEFECT-LOG.md Exists
````bash
# Already exists in your project, just verify format
if [ ! -f "DEFECT-LOG.md" ]; then
    cat > DEFECT-LOG.md << 'DEFECTS'
# Defect Log - x-poc3-n8n-deployment

**Project**: x-poc3-n8n-deployment  
**Server**: hx-cc-server  
**Created**: 2025-11-10

---

## Active Defects

(Roger will populate this)

---

## Resolved Defects

(None yet)
DEFECTS
fi
````

### 1.4 Test Roger in Current Project
````bash
# Roger auto-detects you're in x-poc3-n8n-deployment
roger status

# Should output:
# üê∞ Roger initialized for project: x-poc3-n8n-deployment
#    Project root: /srv/cc/Governance/x-poc3-n8n-deployment
#    Defect log: /srv/cc/Governance/x-poc3-n8n-deployment/DEFECT-LOG.md
````

---

## Summary: What You Get

### One-Time Setup (Phase 0)
- ‚úÖ Roger installed globally
- ‚úÖ Quality gates shared across projects
- ‚úÖ CodeRabbit CLI available everywhere
- ‚úÖ Project bootstrap template ready

### Per-Project Setup (Phase 1 - 5 minutes)
- ‚úÖ Link to shared infrastructure
- ‚úÖ Project-specific CodeRabbit config
- ‚úÖ Project defect log
- ‚úÖ Done!

### For Every New Project
````bash
# Just run:
hx-new-project my-next-project

# That's it! Ready to code.
````

---

## Migration Plan: Current vs New Approach

### Old Approach (Per-Project)
````
Per Project: 17 days deployment
‚îú‚îÄ‚îÄ Install CodeRabbit
‚îú‚îÄ‚îÄ Deploy Roger
‚îú‚îÄ‚îÄ Setup defect logging
‚îú‚îÄ‚îÄ Configure quality gates
‚îî‚îÄ‚îÄ Test everything

Next Project: Repeat 17 days
````

### New Approach (Shared Infrastructure)
````
First Time: 1 day infrastructure setup
‚îî‚îÄ‚îÄ Install everything once

Current Project: 30 minutes config
‚îî‚îÄ‚îÄ Link to shared infrastructure

Future Projects: 5 minutes
‚îî‚îÄ‚îÄ hx-new-project <name>
````

---

## Next Steps

1. **Today**: Set up shared infrastructure (Phase 0)
2. **Today**: Configure current project (Phase 1)
3. **Test**: Run `roger review` in current project
4. **Future**: Create new projects with `hx-new-project`

---

## Questions?

**Q: What if I need project-specific Roger behavior?**  
A: Override in `.coderabbit/config.yaml` - Roger respects project config

**Q: Can I update Roger without affecting all projects?**  
A: Yes, test in `/srv/cc/hana-x-infrastructure` first, then deploy globally

**Q: What about project-specific defects?**  
A: Each project has its own `DEFECT-LOG.md`, plus centralized tracking in infrastructure

**Q: Can projects have different CodeRabbit versions?**  
A: Yes, install per-project CodeRabbit in project venv if needed

---

**Document Version**: 2.0
**Last Updated**: 2025-11-10
**Status**: Ready for Implementation

---

## Document Generation Methodology

**Note on Document Structure**: This deployment plan is generated as a bash heredoc (lines 1-end are wrapped in `cat > ... << 'EOF'`). This approach is intentional and provides specific benefits:

### Why Heredoc Generation?

1. **Dynamic Path Substitution**: Allows runtime path substitution for different environments
   - Development: `/srv/cc/Governance/`
   - Staging: `/srv/cc-staging/Governance/`
   - Production: `/srv/cc-prod/Governance/`

2. **Deployment Automation**: Single command deploys documentation alongside infrastructure
   ```bash
   # Execute this file to deploy both infrastructure AND documentation
   bash /srv/cc/Governance/x-poc4-coderabbit/0.1-Planning/0.1.5-deployment-plan.md
   ```

3. **Version Synchronization**: Documentation version automatically matches deployment version
   - Document updates = infrastructure updates
   - Single source of truth for deployment process

4. **Self-Documenting Deployment**: The deployment script IS the documentation
   - No risk of docs drifting from actual deployment
   - Every bash command in this doc is executable

### Alternative: Static Markdown Approach

**When to use static markdown instead**:
- ‚úÖ Documentation that doesn't require dynamic path substitution
- ‚úÖ Reference documentation not tied to deployment
- ‚úÖ Content that benefits from IDE features (linting, preview, links)
- ‚úÖ Documentation maintained by non-technical stakeholders

**When heredoc generation is appropriate** (this document):
- ‚úÖ Deployment procedures with environment-specific paths
- ‚úÖ Executable documentation (bash script + markdown combined)
- ‚úÖ Infrastructure-as-code where docs = deployment
- ‚úÖ Version-locked documentation (doc version = deployment version)

### Hybrid Approach Recommendation

For future Hana-X documentation:

1. **Static Markdown**: User guides, architecture diagrams, reference docs
   - Location: `/srv/cc/hana-x-infrastructure/docs/*.md`
   - Version control: Git tracks changes directly
   - Tool-friendly: IDE preview, link checking, spell checking

2. **Generated Markdown**: Deployment plans, runbooks, procedures
   - Location: Embedded in deployment scripts as heredocs
   - Version control: Git tracks generator script
   - Execution-friendly: Self-deploying, environment-aware

### Discoverability Improvements

To address CodeRabbit's discoverability concern, this document is:
- ‚úÖ Listed in project catalog: `/srv/cc/Governance/x-poc4-coderabbit/README.md`
- ‚úÖ Referenced in Roger infrastructure docs
- ‚úÖ Tagged with metadata for searchability (see below)

### Document Metadata

```yaml
type: deployment_plan
format: generated_markdown
generator: bash_heredoc
purpose: infrastructure_deployment
environment: multi_environment_capable
execution: self_deploying
version: "2.0"
status: ready_for_implementation
maintainer: agent_zero
last_updated: "2025-11-10"
source_control: /srv/cc/Governance/x-poc4-coderabbit/0.1-Planning/0.1.5-deployment-plan.md
deployed_output: /srv/cc/Governance/x-poc3-n8n-deployment/p1-planning/INFRASTRUCTURE-DEPLOYMENT-PLAN.md
```

**Conclusion**: The heredoc generation approach is intentional and appropriate for this deployment plan. However, general Hana-X documentation should use static markdown for better version control and discoverability.

EOF